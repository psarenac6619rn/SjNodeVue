(function(e){function t(t){for(var r,o,c=t[0],m=t[1],s=t[2],u=0,b=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&b.push(i[o][0]),i[o]=0;for(r in m)Object.prototype.hasOwnProperty.call(m,r)&&(e[r]=m[r]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var m=n[c];0!==i[m]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],m=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var l=m;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),n("router-link",{attrs:{to:"/edit"}},[e._v("New Member")])],1),n("router-view")],1)},a=[],o=n("5530"),c=n("2f62"),m={name:"App",methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["load_members"])),Object(c["b"])(["load_cards"])),mounted:function(){this.load_members(),this.load_cards()}},s=m,l=(n("034f"),n("2877")),u=Object(l["a"])(s,i,a,!1,null,null,null),b=u.exports,d=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("Header"),n("b-container",[n("b-row",[n("b-col",{attrs:{cm:"6"}},[n("MembersList"),n("CardList")],1)],1)],1)],1)},h=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-jumbotron",{attrs:{header:"Teretana",lead:"broj clanova: "+e.members.length}})],1)},v=[],_={name:"Header",computed:Object(o["a"])({},Object(c["c"])(["members"]))},w=_,g=Object(l["a"])(w,p,v,!1,null,"236a1f46",null),j=g.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.members.length?n("b-table",{attrs:{hover:"","sticky-header":"800px",items:e.members,fields:e.fields,"head-variant":"light"},on:{"row-clicked":e.editMember},scopedSlots:e._u([{key:"cell(action)",fn:function(t){return[n("b-button",{attrs:{variant:"danger"},on:{click:function(n){return e.delete_member(t.item.id)}}},[e._v("Delete")])]}}],null,!1,1932149010)}):n("h1",[e._v("No members")])],1)},O=[],x={name:"MembersList",computed:Object(o["a"])({},Object(c["c"])(["members"])),data:function(){return{fields:[{key:"ime"},{key:"prezime"},{key:"ulica"},{key:"action"}]}},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["delete_member"])),{},{editMember:function(e){be.push({path:"/member/".concat(e.id)})}})},k=x,M=(n("e4a3"),Object(l["a"])(k,y,O,!1,null,null,null)),z=M.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.cards.length?n("b-table",{attrs:{hover:"","sticky-header":"800px",items:e.cards,fields:e.fields,"head-variant":"light"}}):n("h1",[e._v("No members")])],1)},P=[],S={name:"CardList",computed:Object(o["a"])({},Object(c["c"])(["cards"])),data:function(){return{fields:[{key:"tip"}]}},methods:{}},$=S,C=(n("8a05"),Object(l["a"])($,E,P,!1,null,null,null)),H=C.exports,I={name:"Home",components:{Header:j,MembersList:z,CardList:H}},U=I,L=Object(l["a"])(U,f,h,!1,null,null,null),T=L.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("Header"),n("b-container",[n("b-row",[n("b-col",{attrs:{cm:"6"}},[n("EditMember")],1)],1)],1)],1)},q=[],J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-form",[n("b-row",{staticClass:"mt-2"},[n("b-col",{attrs:{sm:"2",offset:"2"}},[n("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{placeholder:"ime"},model:{value:e.newIme,callback:function(t){e.newIme=t},expression:"newIme"}})],1),n("b-col",{attrs:{sm:"2"}},[n("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{placeholder:"prezime"},model:{value:e.newPrezime,callback:function(t){e.newPrezime=t},expression:"newPrezime"}})],1),n("b-col",{attrs:{sm:"2"}},[n("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{placeholder:"ulica"},model:{value:e.newUlica,callback:function(t){e.newUlica=t},expression:"newUlica"}})],1),n("b-col",{attrs:{sm:"1"}},[n("b-button",{attrs:{variant:"primary",size:"lg"},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)},A=[],D=(n("d3b7"),n("498a"),n("ddb0"),n("d370")),B=D.object().keys({ime:D.string().trim().min(2).max(50).required(),prezime:D.string().trim().min(2).max(50).required(),ulica:D.string().trim().min(2).max(50).required()}),F={name:"EditMember",props:{ime:{type:String,default:""},prezime:{type:String,default:""},ulica:{type:String,default:""}},data:function(){return{newIme:"",newPrezime:"",newUlica:" "}},mounted:function(){this.newIme=this.ime,this.newPrezime=this.prezime,this.newUlica=this.ulica},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["new_member","change_member"])),{},{save:function(){var e=B.validate({ime:this.newIme,prezime:this.newPrezime,ulica:this.newUlica}),t=e.error;if(t)alert(t.details[0].message);else{var n=JSON.stringify({ime:this.newIme,prezime:this.newPrezime,ulica:this.newUlica});this.$route.params.id?this.change_member({id:this.$route.params.id,msg:n}):this.new_member(n),this.newIme="",this.newPrezime="",this.newUlica=""}}})},G=F,K=Object(l["a"])(G,J,A,!1,null,"6d509d5d",null),Q=K.exports,R={name:"NewMember",components:{Header:j,EditMember:Q}},V=R,W=Object(l["a"])(V,N,q,!1,null,"7fd3e00a",null),X=W.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("b-container",[n("b-row",[n("b-col",{attrs:{cm:"6"}},[e.edit?n("div",[n("EditMember",{attrs:{user:e.member,message:e.member.message}})],1):n("div",[e.members.length?n("ShowMember",{attrs:{member:e.member}}):e._e()],1)])],1),n("b-row",[n("b-col",{staticStyle:{"margin-top":"10px"},attrs:{cm:"2"}},[n("b-button",{attrs:{variant:"primary",size:"lg"},domProps:{innerHTML:e._s(e.edit?"Cancel":"Edit")},on:{click:e.toggleEdit}})],1)],1)],1)],1)},Z=[],ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},te=[],ne={name:"ShowMember"},re=ne,ie=Object(l["a"])(re,ee,te,!1,null,"0e8c9ff3",null),ae=ie.exports,oe={name:"Members",components:{EditMember:Q,ShowMember:ae,Header:j},data:function(){return{edit:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["members"])),{},{member:function(){for(var e=0;e<this.members.length;e++)if(this.members[e].id===parseInt(this.$route.params.id))return this.members[e]}}),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["load_members"])),{},{toggleEdit:function(){this.edit=!this.edit}})},ce=oe,me=Object(l["a"])(ce,Y,Z,!1,null,"5565fe7b",null),se=me.exports;r["default"].use(d["a"]);var le=[{path:"/",name:"Home",component:T},{path:"/edit",name:"NewMember",component:X},{path:"/member/:id",name:"Member",component:se}],ue=new d["a"]({mode:"history",base:"/",routes:le}),be=ue;n("a434");r["default"].use(c["a"]);var de=new c["a"].Store({state:{members:[],cards:[]},mutations:{set_members:function(e,t){e.members=t},set_cards:function(e,t){e.cards=t},add_member:function(e,t){e.members.push(t)},remove_member:function(e,t){for(var n=0;n<e.members.length;n++)if(e.members[n].id===t){e.members.splice(n,1);break}},update_member:function(e,t){for(var n=0;n<e.members.length;n++)if(e.members[n].id===parseInt(t.msg.id)){e.members[n].ime=t.msg.ime,e.members[n].prezime=t.msg.prezime,e.members[n].ulica=t.msg.ulica;break}}},actions:{load_members:function(e){var t=e.commit;fetch("http://localhost:800/api/members",{method:"get"}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){t("set_members",e)})).catch((function(e){"function"===typeof e.text?e.text().then((function(e){alert(e)})):alert(e)}))},load_cards:function(e){var t=e.commit;fetch("http://localhost:800/api/kartice",{method:"get"}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){t("set_cards",e)})).catch((function(e){"function"===typeof e.text?e.text().then((function(e){alert(e)})):alert(e)}))},delete_member:function(e,t){var n=e.commit;fetch("http://localhost:800/api/members/".concat(t),{method:"delete"}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){n("remove_member",e.id)})).catch((function(e){"function"===typeof e.text?e.text().then((function(e){alert(e)})):alert(e)}))},new_member:function(e,t){var n=e.commit;fetch("http://localhost:800/api/members",{method:"post",headers:{"Content-Type":"application/json"},body:t}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){n("add_member",e)})).catch((function(e){"function"===typeof e.text?e.text().then((function(e){alert(e)})):alert(e)}))},change_member:function(e,t){var n=e.commit;fetch("http://localhost:800/api/members/".concat(t.id),{method:"put",headers:{"Content-Type":"application/json"},body:t.msg}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){n("update_member",{msg:e})})).catch((function(e){"function"===typeof e.text?e.text().then((function(e){alert(e)})):alert(e)}))}}}),fe=n("5f5b");n("f9e3"),n("2dd8");r["default"].use(fe["a"]),r["default"].config.productionTip=!1,new r["default"]({router:be,store:de,render:function(e){return e(b)}}).$mount("#app")},"85ec":function(e,t,n){},"8a05":function(e,t,n){"use strict";n("a12f")},a12f:function(e,t,n){},e4a3:function(e,t,n){"use strict";n("e4d1")},e4d1:function(e,t,n){}});
//# sourceMappingURL=app.0cc8c813.js.map